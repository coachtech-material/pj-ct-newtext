# Tutorial 5-1-6: フォームの基礎

## 🎯 このセクションで学ぶこと

*   `<form>` タグを使って、ユーザーからの入力を受け付けるフォームを作成する方法を学ぶ。
*   `<input>`、`<textarea>`、`<select>` など、様々な入力要素の使い方を理解する。
*   `<label>` タグの重要性と、アクセシビリティを意識したフォーム作成を学ぶ。

---

## 導入

これまでのセクションで、テキスト、リンク、画像といった、Webページの基本的な要素を学んできました。しかし、これらは全て、Webサイトから**ユーザーへ情報を伝える**ための、一方通行のコミュニケーションでした。

現代のWebアプリケーションでは、**ユーザーからWebサイトへ情報を送る**という、双方向のコミュニケーションが欠かせません。ログインフォーム、検索ボックス、お問い合わせフォーム、アンケート...。これらは全て、HTMLの**フォーム**機能によって実現されています。

このセクションでは、フォームを「**郵便局の窓口**」に例えて解説します。`<form>` タグは窓口そのもの、`<input>` タグは記入用紙、`<label>` タグは用紙の項目名、そして送信ボタンは「この用紙を送ってください」という依頼です。この仕組みを理解することで、ユーザーとやり取りできる、インタラクティブなWebページを作成できるようになります。

---

## 詳細解説

### 📝 フォームの基本構造: `<form>` タグ

`<form>` タグは、ユーザー入力を受け付ける領域全体を囲む、**コンテナ**の役割を果たします。フォームの中に配置された入力要素（テキストボックス、チェックボックスなど）のデータは、送信ボタンが押されたときに、まとめてサーバーに送られます。

```html
<form action="/submit" method="POST">
  <!-- ここにフォームの入力要素を配置 -->
</form>
```

#### 重要な属性

| 属性 | 説明 |
| :--- | :--- |
| `action` | フォームのデータを**どこに送るか**を指定します。通常、サーバー側のプログラム（PHPファイルなど）のURLを指定します。 |
| `method` | データを**どのように送るか**を指定します。`GET`（URLにデータを付けて送る）と `POST`（本文にデータを含めて送る）の2種類があります。ログイン情報など、機密性の高いデータは `POST` を使います。 |

> 💡 **今は理解しなくてOK**: `action` と `method` の詳細は、PHPやLaravelを学ぶ際に、改めて深く学びます。今は、「フォームには、データの送り先と送り方を指定する必要がある」ということだけ、覚えておいてください。

---

### ⌨️ テキスト入力: `<input>` タグ

`<input>` タグは、フォームの中で最も頻繁に使われる、汎用的な入力要素です。`type` 属性の値を変えることで、様々な種類の入力フィールドを作成できます。

`<input>` タグは、`<img>` タグと同様に、**終了タグを持たない空要素**です。

#### 1. テキストボックス: `type="text"`

一行のテキストを入力するための、最も基本的なフィールドです。

```html
<input type="text" name="username" placeholder="ユーザー名を入力">
```

*   **`type="text"`**: 一行テキスト入力フィールドを作成します。
*   **`name="username"`**: このフィールドの**名前**を指定します。サーバーにデータが送られる際、この名前がキーとなります（例: `username=山田太郎`）。
*   **`placeholder="..."`**: 入力前に、薄いグレーで表示される**ヒントテキスト**です。ユーザーが何を入力すべきかを示します。

#### 2. パスワード入力: `type="password"`

入力した文字が `●●●●` のように隠されて表示される、パスワード専用のフィールドです。

```html
<input type="password" name="password" placeholder="パスワードを入力">
```

#### 3. メールアドレス入力: `type="email"`

メールアドレスの入力に特化したフィールドです。ブラウザが自動的に、入力された値がメールアドレスの形式かどうかを、簡易的にチェックしてくれます。

```html
<input type="email" name="email" placeholder="example@example.com">
```

#### 4. 数値入力: `type="number"`

数値のみを入力できるフィールドです。スピンボタン（上下の矢印）が表示され、数値を増減できます。

```html
<input type="number" name="age" min="0" max="120" placeholder="年齢">
```

*   **`min`**, **`max`**: 入力可能な数値の最小値と最大値を指定します。

#### 5. 日付入力: `type="date"`

日付を選択するためのカレンダーUIが表示されるフィールドです。

```html
<input type="date" name="birthday">
```

#### よく使う `<input>` の `type` 一覧

| `type` 属性 | 説明 |
| :--- | :--- |
| `text` | 一行のテキスト入力 |
| `password` | パスワード入力（文字が隠される） |
| `email` | メールアドレス入力 |
| `number` | 数値入力 |
| `date` | 日付選択 |
| `checkbox` | チェックボックス（複数選択可） |
| `radio` | ラジオボタン（単一選択） |
| `file` | ファイルアップロード |
| `hidden` | 画面には表示されない隠しフィールド |
| `submit` | 送信ボタン |

---

### 📋 複数行テキスト入力: `<textarea>` タグ

`<input type="text">` は一行のテキストしか入力できませんが、`<textarea>` タグを使うと、**複数行のテキスト**を入力できるフィールドを作成できます。お問い合わせフォームの「お問い合わせ内容」欄などに使われます。

`<textarea>` は、`<input>` とは異なり、**開始タグと終了タグのペア**で記述します。

```html
<textarea name="message" rows="5" cols="40" placeholder="メッセージを入力してください"></textarea>
```

*   **`rows`**: 表示する行数（高さ）を指定します。
*   **`cols`**: 表示する列数（幅）を指定します。

> 💡 **TIP**: `rows` と `cols` はあくまで初期表示サイズの目安です。実際のサイズ調整は、CSSで行うのが一般的です。

---

### 📜 選択リスト: `<select>` と `<option>` タグ

あらかじめ用意された選択肢の中から、ユーザーに一つ（または複数）を選んでもらうための、ドロップダウンリストを作成します。

```html
<select name="prefecture">
  <option value="">-- 選択してください --</option>
  <option value="tokyo">東京都</option>
  <option value="osaka">大阪府</option>
  <option value="aichi">愛知県</option>
</select>
```

*   **`<select>`**: ドロップダウンリスト全体を囲みます。`name` 属性で、このフィールドの名前を指定します。
*   **`<option>`**: 選択肢の一つ一つを定義します。
    *   **`value`**: サーバーに送られる**実際の値**です。
    *   タグの間のテキスト（例: `東京都`）は、ユーザーに**表示される文字列**です。

---

### ☑️ チェックボックスとラジオボタン

#### チェックボックス: `type="checkbox"`

複数の選択肢から、**複数を選択できる**場合に使います。

```html
<p>興味のある分野を選んでください（複数選択可）:</p>
<label><input type="checkbox" name="interests[]" value="frontend"> フロントエンド</label>
<label><input type="checkbox" name="interests[]" value="backend"> バックエンド</label>
<label><input type="checkbox" name="interests[]" value="design"> デザイン</label>
```

*   **`name="interests[]"`**: 同じ `name` を持つチェックボックスは、一つのグループとして扱われます。`[]` を付けることで、複数の値を配列として送信できます（PHPなどで受け取る際に便利です）。

#### ラジオボタン: `type="radio"`

複数の選択肢から、**一つだけを選択させる**場合に使います。

```html
<p>性別を選んでください:</p>
<label><input type="radio" name="gender" value="male"> 男性</label>
<label><input type="radio" name="gender" value="female"> 女性</label>
<label><input type="radio" name="gender" value="other"> その他</label>
```

*   同じ `name` 属性を持つラジオボタンは、**排他的なグループ**になります。一つを選ぶと、他の選択は自動的に解除されます。

---

### 🏷️ ラベルの重要性: `<label>` タグ

`<label>` タグは、入力フィールドに「ラベル（名札）」を付けるためのタグです。これは、単なる見た目の問題ではなく、**アクセシビリティ（使いやすさ）** の観点から、非常に重要です。

`<label>` を正しく使うと、以下のメリットがあります。

1.  **クリック範囲の拡大**: ラベルのテキストをクリックしても、関連付けられた入力フィールドにフォーカスが当たります。特に、チェックボックスやラジオボタンのような、小さなクリック領域を持つ要素で、ユーザビリティが大幅に向上します。
2.  **スクリーンリーダーへの対応**: 目の不自由な方が使うスクリーンリーダーは、`<label>` を読み上げることで、そのフィールドが何を入力するためのものかを、ユーザーに伝えます。

#### `<label>` の使い方

`<label>` と `<input>` を関連付けるには、2つの方法があります。

**方法1: `for` 属性と `id` 属性を使う**

`<label>` の `for` 属性に、関連付けたい `<input>` の `id` 属性の値を指定します。

```html
<label for="user-email">メールアドレス:</label>
<input type="email" id="user-email" name="email">
```

**方法2: `<label>` で `<input>` を囲む**

`<input>` を `<label>` タグの中に入れてしまう方法です。この場合、`for` や `id` は不要です。

```html
<label>
  メールアドレス:
  <input type="email" name="email">
</label>
```

どちらの方法でも構いませんが、**全ての入力フィールドには、必ず `<label>` を関連付ける**ことを、習慣にしてください。

---

### 🚀 送信ボタン: `type="submit"`

フォームに入力されたデータを、サーバーに送信するためのボタンです。

```html
<input type="submit" value="送信する">
```

*   **`value`**: ボタンに表示されるテキストを指定します。

または、`<button>` タグを使うこともできます。

```html
<button type="submit">送信する</button>
```

`<button>` タグの方が、ボタンの中にアイコンなどを含めやすいため、柔軟性があります。

---

## 🏃 実践: 簡単なお問い合わせフォームを作ってみよう

学んだことを活かして、簡単なお問い合わせフォームを作成してみましょう。

### Step 1: HTMLファイルを作成する

`contact.html` という名前で、新しいHTMLファイルを作成し、以下のコードを入力してください。

```html
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>お問い合わせフォーム</title>
</head>
<body>
  <h1>お問い合わせ</h1>

  <form action="/submit" method="POST">
    <!-- 名前 -->
    <div>
      <label for="name">お名前:</label>
      <input type="text" id="name" name="name" placeholder="山田 太郎" required>
    </div>

    <!-- メールアドレス -->
    <div>
      <label for="email">メールアドレス:</label>
      <input type="email" id="email" name="email" placeholder="example@example.com" required>
    </div>

    <!-- お問い合わせ種別 -->
    <div>
      <label for="category">お問い合わせ種別:</label>
      <select id="category" name="category">
        <option value="">-- 選択してください --</option>
        <option value="general">一般的なお問い合わせ</option>
        <option value="support">技術サポート</option>
        <option value="feedback">ご意見・ご要望</option>
      </select>
    </div>

    <!-- お問い合わせ内容 -->
    <div>
      <label for="message">お問い合わせ内容:</label>
      <textarea id="message" name="message" rows="5" placeholder="お問い合わせ内容をご記入ください" required></textarea>
    </div>

    <!-- 送信ボタン -->
    <div>
      <button type="submit">送信する</button>
    </div>
  </form>
</body>
</html>
```

### コードリーディング

*   **`required` 属性**: この属性が付いた入力フィールドは、**必須項目**になります。空のまま送信しようとすると、ブラウザが警告を表示し、送信を止めてくれます。
*   **`<div>` で囲む**: 各入力フィールドを `<div>` で囲むことで、レイアウトを整えやすくしています。CSSを適用する際に、この `<div>` に対してスタイルを指定します。

### Step 2: ブラウザで確認する

作成した `contact.html` をブラウザで開いてみましょう。各フィールドに入力できること、ラベルをクリックするとフィールドにフォーカスが当たること、必須項目を空にして送信しようとすると警告が出ることを、確認してみてください。

> 💡 **注意**: 今の段階では、「送信する」ボタンを押しても、実際にはデータはどこにも送られません（エラーページが表示されるかもしれません）。データを受け取って処理するには、サーバーサイドのプログラム（PHPなど）が必要です。これは、後のチュートリアルで学びます。

---

## ✨ まとめ

このセクションでは、ユーザーからの入力を受け付けるための、HTMLフォームの基礎を学びました。

| タグ | 役割 |
| :--- | :--- |
| `<form>` | フォーム全体を囲むコンテナ。`action` で送信先、`method` で送信方法を指定する。 |
| `<input>` | 様々な種類の入力フィールドを作成する。`type` 属性で種類を指定する。 |
| `<textarea>` | 複数行のテキスト入力フィールドを作成する。 |
| `<select>` / `<option>` | ドロップダウン選択リストを作成する。 |
| `<label>` | 入力フィールドにラベルを付ける。アクセシビリティ向上に必須。 |
| `<button>` | 送信ボタンなどを作成する。 |

*   **`name` 属性**: サーバーにデータを送る際のキーとなる、非常に重要な属性。
*   **`required` 属性**: 必須項目を指定する。
*   **`<label>` は必ず使う**: アクセシビリティとユーザビリティのために、全ての入力フィールドに `<label>` を関連付ける。

フォームは、Webアプリケーションの根幹をなす、非常に重要な機能です。ここで学んだ基礎は、後のPHPやLaravelの学習で、何度も登場します。しっかりと理解しておきましょう。

---
