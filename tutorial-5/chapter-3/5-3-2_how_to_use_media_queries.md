# Tutorial 5-3-2: メディアクエリの使い方

## 🎯 このセクションで学ぶこと

*   `@media` ルールの基本的な構文を理解する。
*   `max-width` と `min-width` を使って、画面幅に応じたスタイルの切り替えができるようになる。
*   「モバイルファースト」という、レスポンシブデザインの現代的なアプローチを理解する。

---

## 導入

前のセクションで、メディアクエリが、レスポンシブデザインの「心臓部」であることを学びました。このセクションでは、その具体的な使い方を、実践的に学んでいきます。

メディアクエリの構文は、一見すると、少し複雑に見えるかもしれませんが、基本は、CSSの中に、「**条件分岐の `if` 文**」を書くようなものだと考えてください。「もし、画面幅が〇〇だったら、このCSSを適用する」という、シンプルなルールです。

この「条件」を指定するための、最も一般的な方法が、**`max-width`** と **`min-width`** です。これらのプロパティを使いこなすことで、画面サイズの変化点である**ブレークポイント**を設け、レイアウトを、段階的に変化させることができます。

---

## 詳細解説

### 📜 メディアクエリの基本構文

メディアクエリは、`@media` というキーワードで始まり、その後に、適用条件を括弧 `()` で囲んで記述します。そして、波括弧 `{}` の中に、その条件が満たされたときにだけ適用したい、CSSのルールセットを記述します。

```css
@media (条件) {
  /* 条件が真のときに適用されるCSSルール */
  セレクタ {
    プロパティ: 値;
  }
}
```

#### 条件の指定: `max-width` と `min-width`

条件として、最もよく使われるのが、ビューポート（画面）の幅に関するものです。

*   **`max-width`**: 「**最大**幅が〇〇px」、つまり「画面幅が**〇〇px以下**の場合」という意味になります。
    *   主に、**デスクトップファースト**（PC向けのスタイルを先に書き、小さい画面向けのスタイルを上書きしていく）のアプローチで使われます。

    ```css
    /* 通常のスタイル（PC向け） */
    .container {
      display: flex;
    }

    /* 画面幅が768px以下になったら */
    @media (max-width: 768px) {
      .container {
        display: block; /* flexを解除し、縦並びに戻す */
      }
    }
    ```

*   **`min-width`**: 「**最小**幅が〇〇px」、つまり「画面幅が**〇〇px以上**の場合」という意味になります。
    *   主に、**モバイルファースト**（スマートフォン向けのスタイルを先に書き、大きい画面向けのスタイルを追加していく）のアプローチで使われます。

    ```css
    /* 基本のスタイル（スマートフォン向け） */
    .container {
      display: block;
    }

    /* 画面幅が769px以上になったら */
    @media (min-width: 769px) {
      .container {
        display: flex; /* 横並びにする */
      }
    }
    ```

### 📱 モバイルファースト vs デスクトップファースト

レスポンシブデザインを実装するアプローチには、大きく分けて2つの考え方があります。

1.  **デスクトップファースト**: PC向けのスタイルを最初に作り、メディアクエリ (`max-width`) を使って、画面が小さくなるにつれて、スタイルを「引いていく（解除・上書きしていく）」アプローチ。
2.  **モバイルファースト**: スマートフォン向けの、シンプルなスタイルを最初に作り、メディアクエリ (`min-width`) を使って、画面が大きくなるにつれて、スタイルを「足していく（追加していく）」アプローチ。

かつては、デスクトップファーストが主流でしたが、**現在では、モバイルファーストが、広く推奨されています**。

#### なぜモバイルファーストが良いのか？

*   **コードがシンプルになる**: スマートフォン向けのスタイルは、通常、PC向けよりもシンプルです（1カラムレイアウトなど）。シンプルなものから始めて、複雑なスタイルを追加していく方が、コードの見通しが良くなります。
*   **パフォーマンスの向上**: スマートフォンは、PCに比べて、通信速度や処理能力が低い場合があります。モバイルファーストで書くことで、スマートフォンは、必要最小限のCSSだけを読み込めば良くなり、ページの表示速度が向上します。
*   **モバイル体験の重視**: ユーザーの大半がモバイルである、という現状に即した、自然なアプローチです。

### 📐 ブレークポイントの考え方

メディアクエリで、スタイルを切り替える画面幅のことを、**ブレークポイント (Breakpoint)** と呼びます。

「どの画面幅をブレークポイントにすれば良いのか？」という問いに、唯一の正解はありません。かつては、「iPhoneの画面幅」「iPadの画面幅」のように、特定のデバイスのサイズに合わせて、ブレークポイントを設定する考え方もありました。しかし、デバイスが多様化した現在では、そのアプローチは有効ではありません。

現代的なアプローチは、「**コンテンツに合わせて**」ブレークポイントを決める、というものです。ブラウザのウィンドウサイズを、少しずつ狭めていき、**「レイアウトが崩れ始めたな」と感じた時点**を、新しいブレークポイントとして、スタイルを調整します。

一般的に、よく使われるブレークポイントの目安はありますが、これらは、あくまで出発点です。

*   `~ 600px`: スマートフォン
*   `600px ~ 960px`: タブレット
*   `960px ~ 1280px`: 小さめのデスクトップ
*   `1280px ~`: 大きなデスクトップ

---

## ✨ まとめ

このセクションでは、メディアクエリの具体的な使い方と、レスポンシブデザインの現代的なアプローチについて学びました。

*   **メディアクエリの構文**: `@media (条件) { ... }` の形で、条件に応じたスタイルを記述する。
*   **画面幅による条件指定**: `(max-width: 〇〇px)` は「〇〇px以下」、`(min-width: 〇〇px)` は「〇〇px以上」を意味する。
*   **モバイルファースト**: スマートフォン向けのスタイルを基本とし、`(min-width)` を使って、大きな画面向けのスタイルを追加していくアプローチが、現在では主流である。
*   **ブレークポイント**: スタイルを切り替える画面幅のこと。特定のデバイスに合わせるのではなく、コンテンツの表示が崩れるタイミングで設定するのが良い。

メディアクエリを使いこなすことで、あなたは、どんな画面サイズでも、美しく、機能的なレイアウトを提供できる、真のプロフェッショナルに、一歩近づくことができます。

次のチャプターでは、CSSの記述を、さらに効率化・高速化するためのフレームワーク、Tailwind CSSについて学びます。

---
