# Tutorial 4-3-4: 変更履歴の確認 (git log)

## 🎯 このセクションで学ぶこと

*   `git log` コマンドを使って、プロジェクトのコミット履歴を一覧表示する方法を学ぶ。
*   コミットID、作者、日付、コミットメッセージなど、`git log` の出力に含まれる情報を理解する。
*   `--oneline` や `--graph` などの便利なオプションを使って、ログの表示をカスタマイズする方法を学ぶ。

---

## 導入

前のセクションで、あなたは最初のコミットを行い、プロジェクトの歴史に、記念すべき第一歩を刻みました。

プロジェクトが進行するにつれて、コミットの数は、2つ、3つ、そして数百、数千と増えていきます。そうなると、「過去に、どのような変更が行われてきたのか」を、一覧で確認したくなる時が来ます。

*   「あの機能は、いつ、誰が追加したんだっけ？」
*   「先週の金曜日の時点では、どんな状態だったかな？」
*   「このバグは、どの変更が原因で発生したんだろう？」

このような疑問に答えてくれるのが、`git log` コマンドです。このコマンドは、リポジトリに記録されたコミットの履歴を、過去から現在へと遡って表示してくれる、まさにプロジェクトの「歴史書」を閲覧するためのコマンドです。

---

## 詳細解説

### 📜 `git log` の基本

早速、`git log` を実行して、これまでのコミット履歴を見てみましょう。ターミナルで、以下のコマンドを入力してください。

```bash
git log
```

すると、前のセクションで行ったコミットの情報が、詳細に表示されます。

```
commit a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0 (HEAD -> main)
Author: Taro Yamada <taro.yamada@example.com>
Date:   Mon Mar 11 10:00:00 2024 +0900

    Initial commit
```

この出力には、4つの重要な情報が含まれています。

1.  **コミットID (Commit ID)**: `a1b2c3d4e5f6...` という、約40文字の英数字の羅列。これは、各コミットを、一意に識別するための、ユニークなIDです。SHA-1ハッシュ関数というアルゴリズムで生成されています。このIDがあれば、いつでも、その特定のコミットの状態を正確に再現することができます。

2.  **作者 (Author)**: このコミットを行った人の名前とメールアドレス。`git config` で設定した情報が、ここに表示されます。

3.  **日付 (Date)**: このコミットが行われた日時。

4.  **コミットメッセージ (Commit Message)**: `git commit -m` で指定したメッセージ。コミットの意図を理解するための、最も重要な情報です。

コミットが複数ある場合は、新しいものから順に、上から下へと表示されます。

> **ヒント**: `git log` の表示が長すぎて、画面に収まらない場合は、`j` キーで下にスクロール、`k` キーで上にスクロールできます。ログの閲覧を終了するには、`q` キーを押してください。（これは、`less` という、Unixの基本的なページャープログラムの操作方法です）

### 🎨 ログの表示をカスタマイズする

`git log` のデフォルトの表示は、非常に詳細ですが、時には、もっと簡潔に、概要だけを素早く確認したい場合もあります。`git log` には、表示形式をカスタマイズするための、便利なオプションがたくさん用意されています。

#### `--oneline`: 1行で表示する

各コミットを、1行の簡潔な情報にまとめて表示します。私が最もよく使うオプションの一つです。

```bash
git log --oneline
```

```
_a1b2c3d_ (HEAD -> main) Initial commit
```

コミットIDの先頭7文字と、コミットメッセージの1行目だけが表示され、非常に見やすいです。

#### `--graph`: ブランチの歴史をグラフィカルに表示する

プロジェクトが複雑になり、ブランチ（後ほど学びます）が増えてくると、どの変更が、どこから派生して、どこに統合されたのか、という流れが、テキストだけでは分かりにくくなります。`--graph` オプションは、コミットの親子関係を、アスキーアートの線で、グラフィカルに表示してくれます。

```bash
git log --graph --oneline
```

現在のリポジトリは、まだコミットが1つしかないので、あまり面白みはありませんが、ブランチを使い始めると、このオプションの真価が発揮されます。

#### `-n <数>`: 表示するコミット数を制限する

最新のコミットから、指定した数だけを表示します。例えば、直近3つのコミットだけを見たい場合は、以下のようにします。

```bash
git log -n 3
```

---

## ✨ まとめ

このセクションでは、`git log` コマンドを使って、プロジェクトの変更履歴を閲覧する方法を学びました。

*   **`git log`**: コミットの履歴を、新しいものから順に表示するコマンド。
*   **ログの主要な情報**: 各コミットには、**コミットID**、**作者**、**日付**、**コミットメッセージ** が含まれている。
*   **便利なオプション**:
    *   `--oneline`: 履歴を1行で簡潔に表示する。
    *   `--graph`: ブランチの歴史をグラフィカルに表示する。
    *   `-n <数>`: 表示するコミットの数を制限する。

`git log` は、過去を振り返り、プロジェクトがどのように進化してきたかを理解するための、強力なタイムマシンです。何か問題が発生した時に、いつ、どの変更が原因だったのかを突き止めるための、重要な手がかりを与えてくれます。

次のセクションでは、`git status` コマンドについて、もう少し詳しく掘り下げ、ファイルの様々な状態について学びます。

---

## 📝 学習のポイント

- [ ] `git log` を実行して、コミット履歴を一覧表示できる。
- [ ] コミットID、作者、日付、コミットメッセージが、ログの基本的な構成要素であることを理解している。
- [ ] `--oneline` オプションを使って、ログを簡潔に表示できる。
