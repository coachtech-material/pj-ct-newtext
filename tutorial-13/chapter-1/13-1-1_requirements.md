# Tutorial 13-1-1: 要件定義

## 🎯 このセクションで学ぶこと

- 書籍レビューアプリの要件を定義する方法を学ぶ
- 要件定義の3ステップ（ヒアリング・整理・合意）を理解する
- 要件定義の重要性と、実務での活用方法を理解する

---

## 🧠 先輩エンジニアの思考プロセス

### 「なぜ要件定義から始めるのか？」

新しいプロジェクトを始めるとき、いきなりコードを書き始めたくなるかもしれません。しかし、先輩エンジニアは必ず**要件定義から始めます**。

### 理由1: 全体像を把握するため

```
❌ いきなりコードを書く
→ 途中で「この機能も必要だった」と気づく
→ 設計をやり直す羽目になる

✅ 要件定義から始める
→ 必要な機能を洗い出す
→ 効率的に開発を進められる
```

### 理由2: 見積もりを出すため

実務では「この機能、いつまでにできる？」と聞かれます。要件定義がないと、**何を作るかわからないので見積もりが出せません**。

### 理由3: 認識のズレを防ぐため

クライアントが「書籍管理アプリ」と言ったとき、あなたが想像するものとクライアントが想像するものは**違うかもしれません**。要件定義で認識を合わせます。

---

### このChapterの実装順序

| 順番 | セクション | 理由 |
|:---:|:---|:---|
| 1 | 要件定義（本セクション） | 何を作るかを明確にする |
| 2 | データベース設計 | データ構造を決める |
| 3 | 画面設計 | UIを決める |
| 4 | 開発環境構築 | 開発できる状態にする |
| 5 | Git/GitHub準備 | バージョン管理を始める |
| 6 | アセット配置 | 共通部品を準備する |

> 💡 **ポイント**: 「設計 → 環境構築 → 開発」の順序が基本です。設計なしに開発を始めると、後で大きな手戻りが発生します。

---

## 導入：なぜ要件定義が必要なのか

**要件定義（Requirements Definition）**とは、**開発するシステムの機能や仕様を明確にする作業**です。

実務では、クライアントや上司から「こんなシステムを作ってほしい」と依頼されることがあります。しかし、その依頼は曖昧なことが多く、「何を作ればいいのか」が明確でないことがあります。

要件定義を行うことで、**開発の全体像を把握し、何を作るべきかを明確にする**ことができます。

---

## 要件定義とは

要件定義は、以下の3つのステップで行います。

1. **ヒアリング**: クライアントや上司から、どんなシステムを作りたいのかを聞く
2. **整理**: ヒアリングした内容を整理し、機能一覧を作成する
3. **合意**: クライアントや上司と、機能一覧を確認し、合意を得る

---

## Step 1: ヒアリング

**ヒアリング**とは、クライアントや上司から**どんなシステムを作りたいのかを聞く作業**です。

このTutorialでは、**書籍レビューアプリ（book-review-app）**を開発します。

書籍レビューアプリとは、**読んだ本の情報と感想を記録・管理するシステム**です。

---

#### ヒアリング内容

クライアントから、以下のような依頼を受けたとします。

> 「書籍レビューアプリを作ってほしい。本のタイトルや著者を登録して、評価と感想を記録できるようにしたい。ログインして自分のレビューだけを管理できるようにしてほしい。」

---

### 💡 TIP: ヒアリングのポイント

ヒアリングでは、以下のポイントを意識します。

| ポイント | 説明 |
|:---|:---|
| 5W1Hを意識する | 誰が、何を、いつ、どこで、なぜ、どのように使うのか |
| 具体例を聞く | 「例えばどんな場面で使いますか？」 |
| 優先度を確認する | 「この機能は必須ですか？あると嬉しい程度ですか？」 |
| 既存の類似サービスを確認する | 「参考にしているサービスはありますか？」 |

---

## Step 2: 整理

**整理**とは、ヒアリングした内容を**機能として整理する作業**です。

ヒアリング内容を整理すると、以下のような機能が必要だとわかります。

---

#### 要件を整理する

**基本機能（CRUD）**:
- 書籍の登録
- 書籍一覧の表示
- 書籍詳細の表示
- 書籍情報の編集
- 書籍の削除

**公開API機能**:
- 書籍一覧をJSONで取得（認証不要）
- 書籍詳細をJSONで取得（認証不要）

**認証機能**:
- ユーザー登録
- ログイン
- ログアウト
- ログインユーザーのレビューのみ表示・編集可能

---

#### 機能一覧

整理した機能を一覧にまとめます。

| 機能名 | 説明 | 優先度 |
|:---|:---|:---:|
| 書籍一覧機能 | 登録された書籍の一覧を表示する | 高 |
| 書籍登録機能 | 新しい書籍を登録する | 高 |
| 書籍詳細機能 | 書籍の詳細情報を表示する | 高 |
| 書籍編集機能 | 書籍情報を編集する | 高 |
| 書籍削除機能 | 書籍を削除する | 高 |
| 公開API実装 | 認証なしで書籍データをJSONで取得できるAPIを実装 | 中 |
| ユーザー認証機能 | ユーザー登録・ログイン・ログアウト | 高 |
| ユーザー別レビュー管理 | ログインユーザーのレビューのみ表示・編集可能にする | 高 |

---

### 💡 TIP: 優先度の設定

機能一覧には、**優先度**を設定します。

- **高**: 必須機能。これがないとシステムとして成立しない
- **中**: 重要な機能。あると便利だが、なくても動作する
- **低**: あると嬉しい機能。余裕があれば実装する

優先度を設定することで、**どの機能から開発すべきか**が明確になります。

---

## Step 3: 合意

**合意**とは、整理した機能一覧を**クライアントや上司と確認し、認識を合わせる作業**です。

合意を得ることで、以下のメリットがあります。

| メリット | 説明 |
|:---|:---|
| 認識のズレを防ぐ | 「こんなはずじゃなかった」を防ぐ |
| 追加要件を明確にする | 「これも必要だった」を事前に洗い出す |
| 責任範囲を明確にする | 何を作るか、何を作らないかを明確にする |

---

#### 合意のポイント

合意を得る際は、以下のポイントを意識します。

1. **機能一覧を文書化する**: 口頭だけでなく、文書として残す
2. **優先度を確認する**: どの機能が必須か、どの機能が任意かを確認する
3. **スコープ外を明確にする**: 今回のプロジェクトで作らないものを明確にする
4. **承認を得る**: クライアントや上司から正式な承認を得る

> 💡 **ポイント**: 実務では、要件定義書として文書化し、クライアントの署名や承認を得ることが一般的です。

---

### 🚨 よくある間違い

#### 間違い1: 要件定義を飛ばして開発を始める

**対処法**: 必ず要件定義を行い、機能一覧を作成してから開発を始めます。

---

#### 間違い2: 要件定義が曖昧

**対処法**: 具体的な機能名と説明を記載し、クライアントと合意を得ます。

---

#### 間違い3: 優先度を設定しない

**対処法**: 優先度を設定し、どの機能から開発すべきかを明確にします。

---

## ✨ まとめ

このセクションでは、書籍レビューアプリの要件定義について学びました。

- 要件定義は、**ヒアリング → 整理 → 合意**の3ステップで行う
- ヒアリングでは、クライアントからどんなシステムを作りたいのかを聞く
- 整理では、ヒアリング内容を機能一覧としてまとめる
- 合意では、クライアントと認識を合わせ、承認を得る

次のセクションでは、データベース設計について学びます。

---
