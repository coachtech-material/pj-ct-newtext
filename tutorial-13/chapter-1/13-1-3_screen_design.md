# Tutorial 13-1-3: 画面設計

## 🎯 このセクションで学ぶこと

- ワイヤーフレームを作成し、画面設計を行う方法を学ぶ
- 画面遷移図を作成し、ユーザーの動線を設計する
- UIの基本原則を理解する

---

## 🧠 先輩エンジニアの思考プロセス

### 「なぜデータベース設計の次に画面設計なのか？」

データベース設計で「どんなデータがあるか」が決まりました。次は「そのデータをどう見せるか」を決めます。

### 理由1: データと画面の対応関係を明確にする

```
データベース設計で決まったこと:
- booksテーブル: title, author, rating, review

画面設計で決めること:
- 一覧画面: title, author, ratingを表示
- 詳細画面: 全項目を表示
- 登録画面: 全項目の入力フォーム
```

### 理由2: 実装前に「何を作るか」を視覚化する

コードを書く前にワイヤーフレームを作ることで、**クライアントと認識を合わせられます**。「こんな画面を作りますよ」と見せて、OKをもらってから実装を始めます。

### 理由3: Bladeテンプレートの設計がスムーズになる

画面設計があれば、「この画面にはどんなコンポーネントが必要か」が明確になります。

---

### このセクションの実装順序

| 順番 | 作業 | 理由 |
|:---:|:---|:---|
| 1 | 画面一覧の作成 | 必要な画面を洗い出す |
| 2 | 画面遷移図の作成 | ユーザーの動線を設計 |
| 3 | ワイヤーフレームの作成 | 各画面のレイアウトを設計 |
| 4 | UIの基本原則の確認 | 一貫性のあるデザインのため |

---

## 導入：なぜ画面設計が重要なのか

**画面設計**は、ユーザーがアプリケーションをどのように使うかを決定する重要なプロセスです。

画面設計を行うことで、以下のようなメリットがあります。

- **ユーザー体験の向上**: 使いやすいUIを設計できる
- **開発効率の向上**: 実装前に画面の構成を決定できる
- **チーム内の認識統一**: デザイナー、エンジニア、クライアントが同じイメージを共有できる

---

## Step 1: 書籍レビューアプリの画面一覧

書籍レビューアプリには、以下の画面が必要です。

| 画面 | 説明 | 対応するルート |
|:---|:---|:---|
| ユーザー登録画面 | 新規ユーザーを登録する | `GET /register` |
| ログイン画面 | ユーザーがログインする | `GET /login` |
| 書籍一覧画面 | 登録した書籍の一覧を表示する | `GET /books` |
| 書籍登録画面 | 新しい書籍を登録する | `GET /books/create` |
| 書籍詳細画面 | 書籍の詳細とレビューを表示する | `GET /books/{id}` |
| 書籍編集画面 | 書籍情報を編集する | `GET /books/{id}/edit` |

### 画面一覧のコードリーディング

| 画面 | HTTPメソッド | コントローラーメソッド |
|:---|:---|:---|
| 書籍一覧 | GET | `BookController@index` |
| 書籍登録 | GET | `BookController@create` |
| 書籍詳細 | GET | `BookController@show` |
| 書籍編集 | GET | `BookController@edit` |

---

## Step 2: 画面遷移図

**画面遷移図**は、ユーザーがどのように画面を移動するかを示す図です。

```
ユーザー登録画面
    ↓
ログイン画面
    ↓
書籍一覧画面
    ├→ 書籍登録画面 → 書籍一覧画面
    ├→ 書籍詳細画面
    │   ├→ 書籍編集画面 → 書籍詳細画面
    │   └→ 書籍削除 → 書籍一覧画面
    └→ ログアウト → ログイン画面
```

### 画面遷移図のコードリーディング

| 遷移 | HTTPメソッド | 処理 |
|:---|:---|:---|
| 登録画面 → 一覧画面 | POST `/books` | `store`メソッドで保存後リダイレクト |
| 編集画面 → 詳細画面 | PUT `/books/{id}` | `update`メソッドで更新後リダイレクト |
| 削除 → 一覧画面 | DELETE `/books/{id}` | `destroy`メソッドで削除後リダイレクト |

---

## Step 3: ワイヤーフレーム（書籍一覧画面）

```
+--------------------------------------------------+
| ヘッダー                                         |
| [📚 書籍レビューアプリ]          [ログアウト]   |
+--------------------------------------------------+
| 書籍一覧                                         |
|                                        [新規登録] |
|                                                  |
| +----------------------------------------------+ |
| | リーダブルコード                              | |
| | 著者: Dustin Boswell                         | |
| | ★★★★★ (5/5)                          [編集] | |
| +----------------------------------------------+ |
| | Clean Code                                   | |
| | 著者: Robert C. Martin                       | |
| | ★★★★☆ (4/5)                          [編集] | |
| +----------------------------------------------+ |
+--------------------------------------------------+
```

### ワイヤーフレームとBladeの対応

| ワイヤーフレームの要素 | Bladeでの実装 |
|:---|:---|
| ヘッダー | `<x-app-layout>` コンポーネント |
| 書籍一覧 | `@foreach ($books as $book)` |
| 新規登録ボタン | `<a href="{{ route('books.create') }}">` |
| 編集ボタン | `<a href="{{ route('books.edit', $book) }}">` |

---

## Step 4: ワイヤーフレーム（書籍登録画面）

```
+--------------------------------------------------+
| ヘッダー                                         |
| [📚 書籍レビューアプリ]          [ログアウト]   |
+--------------------------------------------------+
| 書籍登録                                         |
|                                                  |
| タイトル                                         |
| [____________________]                           |
|                                                  |
| 著者                                             |
| [____________________]                           |
|                                                  |
| 評価                                             |
| [▼ 5 - ★★★★★]                                 |
|                                                  |
| レビュー                                         |
| [____________________]                           |
| [____________________]                           |
| [____________________]                           |
|                                                  |
| [登録] [キャンセル]                              |
+--------------------------------------------------+
```

### フォームとBladeの対応

| フォーム要素 | Bladeでの実装 |
|:---|:---|
| タイトル入力 | `<input type="text" name="title">` |
| 著者入力 | `<input type="text" name="author">` |
| 評価選択 | `<select name="rating">` |
| レビュー入力 | `<textarea name="review">` |
| 登録ボタン | `<button type="submit">` |

---

## Step 5: ワイヤーフレーム（書籍詳細画面）

```
+--------------------------------------------------+
| ヘッダー                                         |
| [📚 書籍レビューアプリ]          [ログアウト]   |
+--------------------------------------------------+
| ← 一覧に戻る                                     |
|                                                  |
| リーダブルコード                                 |
|                                                  |
| 著者: Dustin Boswell                             |
| 評価: ★★★★★ (5/5)                              |
|                                                  |
| レビュー:                                        |
| 読みやすいコードを書くための必読書です。         |
| 変数名の付け方から、コメントの書き方まで、       |
| 実践的なテクニックが満載です。                   |
|                                                  |
| 登録日: 2024年1月1日                             |
|                                                  |
| [編集] [削除]                                    |
+--------------------------------------------------+
```

### 詳細画面とBladeの対応

| 表示要素 | Bladeでの実装 |
|:---|:---|
| タイトル | `{{ $book->title }}` |
| 著者 | `{{ $book->author }}` |
| 評価 | `{{ str_repeat('★', $book->rating) }}` |
| レビュー | `{{ $book->review }}` |
| 登録日 | `{{ $book->created_at->format('Y年n月j日') }}` |

---

## Step 6: UIの基本原則

良いUIを設計するための基本原則を理解します。

### 1. 一貫性（Consistency）

- 同じ機能は同じデザインにする
- ボタンの色、フォント、配置を統一する

**例**: 「登録」ボタンは常に青色、「削除」ボタンは常に赤色

### 2. 視認性（Visibility）

- 重要な情報は目立つように配置する
- ユーザーが次に何をすべきかが明確

**例**: 「新規登録」ボタンを画面の上部に配置する

### 3. フィードバック（Feedback）

- ユーザーの操作に対して、適切なフィードバックを返す
- ボタンをクリックしたら、成功メッセージを表示する

**例**: 書籍を登録したら、「書籍を登録しました」というメッセージを表示する

### 4. シンプルさ（Simplicity）

- 不要な要素を削除し、シンプルなデザインにする
- ユーザーが迷わないようにする

**例**: 書籍一覧画面には、タイトル、著者、評価のみを表示する

---

## ✨ まとめ

このセクションでは、画面設計について学びました。

- ワイヤーフレームは、Webページやアプリの画面構成を示す設計図
- 画面遷移図は、ユーザーがどのように画面を移動するかを示す図
- UIの基本原則は、一貫性、視認性、フィードバック、シンプルさ

次のセクションでは、開発環境の構築について学びます。

---
