# Tutorial 3-4: ファイルとディレクトリの操作

## 🎯 このセクションで学ぶこと

*   コマンドラインを使って、新しいディレクトリ（フォルダ）や空のファイルを作成する。
*   ファイルやディレクトリを移動させたり、名前を変更したりする。
*   ファイルやディレクトリをコピー（複製）する。
*   ファイルやディレクトリを削除する。
*   GUIの「ドラッグ＆ドロップ」や「右クリックメニュー」に相当する操作を、コマンドで実行できるようになる。

---

## 導入

これまでのセクションで、ディレクトリの地図を理解し、その中を自由に歩き回る方法 (`pwd`, `ls`, `cd`) を学びました。冒険に例えるなら、地図を読んで、現在地を確認し、目的地へ移動するスキルを身につけた状態です。

次なるステップは、その世界に**変化を加える**ことです。新しい村（ディレクトリ）を作ったり、アイテム（ファイル）を手に入れたり、場所を移動させたり、不要なものを捨てたり…。

このセクションでは、ファイルやディレクトリを操作するための、基本的なコマンド群を学びます。これらのコマンドは、GUIでマウスを使って行っていた、以下のような日常的な操作を、キーボードだけで実現するものです。

*   右クリック →「新規作成」→「フォルダー」
*   ファイルをドラッグ＆ドロップして別のフォルダに移動する
*   ファイル名を右クリックして「名前の変更」を選択する
*   ファイルをコピー＆ペーストする
*   ファイルをゴミ箱に捨てる

最初はコマンド名が多くて戸惑うかもしれませんが、一つ一つのコマンドは非常にシンプルです。これらの「動詞」を覚えることで、あなたのコマンドラインの世界は、ただ眺めるだけのものから、自らの手で創造し、整理できる、アクティブな世界へと変わります。

---

## 詳細解説

これから紹介するコマンドを試すために、まずは練習用のディレクトリを作成しましょう。ホームディレクトリ (`~`) に移動してから、作業を始めてください。

```bash
# ホームディレクトリに移動
cd ~

# 練習用のディレクトリを作成
mkdir practice

# 作成したディレクトリに移動
cd practice
```

これで、`~/practice` という、安全に実験できる砂場が用意できました。

### ⚙️ 1. 作成: `mkdir` と `touch`

#### ディレクトリの作成: `mkdir` (Make Directory)

`mkdir` は、新しいディレクトリ（フォルダ）を作成するコマンドです。

```bash
# `dir1` という名前のディレクトリを作成
mkdir dir1

# `ls` で確認
ls
# dir1
```

複数のディレクトリを一度に作ることもできます。

```bash
mkdir dir2 dir3
ls
# dir1  dir2  dir3
```

#### 空のファイルの作成: `touch`

`touch` は、中身が空の、0バイトのファイルを作成するコマンドです。プログラミングでは、まず空のファイルを作ってから、VSCodeで編集を始める、という流れがよくあります。

```bash
# `file1.txt` という名前のファイルを作成
touch file1.txt

# `ls` で確認
ls
# dir1      dir2      dir3      file1.txt
```

### ⚙️ 2. 移動と名前の変更: `mv` (Move)

`mv` は、ファイルやディレクトリを別の場所に**移動**させるためのコマンドです。また、**名前の変更**にも使われます。

**基本構文:**

```bash
mv [移動元] [移動先]
```

#### ファイルの移動

`file1.txt` を `dir1` の中に移動させてみましょう。

```bash
mv file1.txt dir1

# practice の中を確認
ls
# dir1  dir2  dir3

# dir1 の中を確認
ls dir1
# file1.txt
```

`practice` の中から `file1.txt` が消え、`dir1` の中に移動したことが確認できます。

#### 名前の変更

`mv` コマンドは、移動先が「存在しないファイル名」の場合、名前の変更として機能します。これは、「`dir2` という名前のファイルを、`mydir` という名前に変えて、同じ場所に移動させる」と解釈されるためです。

`dir2` の名前を `mydir` に変更してみましょう。

```bash
mv dir2 mydir

# 確認
ls
# dir1  mydir  dir3
```

`dir2` が `mydir` に変わりました。

### ⚙️ 3. コピー: `cp` (Copy)

`cp` は、ファイルやディレクトリを**コピー（複製）**するためのコマンドです。

**基本構文:**

```bash
cp [コピー元] [コピー先]
```

#### ファイルのコピー

`dir1` の中にある `file1.txt` を、`dir3` の中にコピーしてみましょう。

```bash
cp dir1/file1.txt dir3

# dir3 の中を確認
ls dir3
# file1.txt

# 元のファイルも残っていることを確認
ls dir1
# file1.txt
```

`dir1` と `dir3` の両方に `file1.txt` が存在する、つまり複製が作成されたことが分かります。

#### ディレクトリのコピー: `cp -r`

ディレクトリを、その中身ごとコピーする場合は、**`-r`** という**オプション**を付ける必要があります。`-r` は **r**ecursive（再帰的な）を意味し、「ディレクトリの中のファイルやサブディレクトリも、全て再帰的にコピーしてね」という指示になります。

`dir1` を `dir1_copy` という名前でコピーしてみましょう。

```bash
cp -r dir1 dir1_copy

# 確認
ls
# dir1      dir1_copy mydir     dir3

# コピー先の中身も確認
ls dir1_copy
# file1.txt
```

### ⚙️ 4. 削除: `rm` と `rmdir` (Remove)

**注意: コマンドラインでの削除操作は、GUIの「ゴミ箱に入れる」とは異なり、即座に、完全にファイルが消去されます。元に戻すことはできません。実行する前には、必ず `ls` や `pwd` で、対象が正しいか十分に確認してください。**

#### ファイルの削除: `rm`

`rm` は、ファイルを削除するコマンドです。

```bash
# dir1 の中の file1.txt を削除
rm dir1/file1.txt

# 確認
ls dir1
# (何も表示されない)
```

#### 空のディレクトリの削除: `rmdir`

`rmdir` は、**中身が空の**ディレクトリを削除するコマンドです。

```bash
# mydir は空なので削除できる
rmdir mydir

# 確認
ls
# dir1      dir1_copy dir3
```

#### 中身があるディレクトリの削除: `rm -r`

`dir3` のように、中にファイルが含まれているディレクトリは `rmdir` では削除できません。その場合は、`rm` コマンドに `-r` オプションを付けて、「中身ごと再帰的に削除して」と指示します。

```bash
rm -r dir3

# 確認
ls
# dir1      dir1_copy
```

`rm -r` は非常に強力なコマンドなので、実行する際は、本当に削除して良いか、細心の注意を払ってください。

---

## ✨ まとめ

このセクションでは、ファイルやディレクトリを操作する、基本的な「動詞」となるコマンドを学びました。

| 操作 | コマンド | 意味 | 注意点 |
| :--- | :--- | :--- | :--- |
| **ディレクトリ作成** | `mkdir [名前]` | **M**a**k**e **Dir**ectory | |
| **ファイル作成** | `touch [名前]` | 空のファイルを作成 | |
| **移動/名前変更** | `mv [元] [先]` | **M**o**v**e | 名前変更にも使う |
| **ファイルコピー** | `cp [元] [先]` | **C**o**p**y | |
| **ディレクトリコピー** | `cp -r [元] [先]` | Recursive Copy | `-r` が必須 |
| **ファイル削除** | `rm [名前]` | **R**e**m**ove | **元に戻せない！** |
| **空のディレクトリ削除** | `rmdir [名前]` | **R**e**m**ove **Dir**ectory | 中身が空でないと失敗する |
| **ディレクトリ削除** | `rm -r [名前]` | Recursive Remove | **中身ごと消える！超危険！** |

これらのコマンドを組み合わせることで、GUIで行っていたほとんどのファイル操作が、キーボードだけで、より高速に、より正確に実行できるようになります。

---

## 📝 学習のポイント

- [ ] `mkdir` で新しいディレクトリを、`touch` で空のファイルを作成できる。
- [ ] `mv` コマンドを使って、ファイルやディレクトリの移動と、名前の変更の両方ができる。
- [ ] `cp` コマンドでファイルをコピーでき、ディレクトリをコピーするには `-r` オプションが必要なことを理解している。
- [ ] `rm` と `rmdir` の違いを説明でき、`rm -r` が特に注意が必要なコマンドであることを理解している。
