# Tutorial 7-3-2: プロパティとメソッド

## 🎯 このセクションで学ぶこと

*   プロパティ（データ）を、クラスに定義する方法を学ぶ。
*   メソッド（処理）を、クラスに定義する方法を学ぶ。
*   インスタンスの、プロパティや、メソッドに、外部からアクセスする方法を学ぶ。
*   クラス内部で、自身のプロパティや、メソッドにアクセスするための、特殊な変数`$this`の使い方を理解する。

---

## 導入

前のセクションで、`User`クラスという、空の設計図を作成しました。このままでは、ただの箱でしかありません。この設計図に、「ユーザーが持つべき、データ」と、「ユーザーができるべき、振る舞い」を、書き込んでいくことで、初めて、意味のある、クラスになります。

オブジェクト指向プログラミングでは、

*   クラスが持つ、**データ**のことを、**プロパティ (Property)** と呼びます。（例: ユーザーの名前、年齢）
*   クラスが持つ、**処理（関数）**のことを、**メソッド (Method)** と呼びます。（例: 自己紹介する）

このセクションでは、`User`クラスに、プロパティと、メソッドを定義し、それらを、実際に、利用する方法について、学んでいきます。

---

## 詳細解説

### 💎 プロパティ (Property): データ

プロパティは、**クラスが、どのようなデータを、保持するか**を定義します。クラスの中に、変数を宣言するようなイメージです。プロパティを定義する際には、`public`という、**アクセス修飾子**を、付ける必要があります。

> **💡 アクセス修飾子とは？**
> `public`は、「このプロパティは、クラスの、外部からでも、自由に、アクセスできますよ」ということを示す、キーワードです。他にも、`protected`（自分と、子クラスからのみ）や、`private`（自分からのみ）がありますが、現時点では、「**クラスのプロパティや、メソッドには、とりあえず`public`を付けておく**」と、覚えておけば、問題ありません。

```php
class User
{
    // プロパティ（データ）を定義
    public string $name;
    public int $age;
}
```

これで、`User`クラスは、「`name`という、文字列のデータ」と、「`age`という、整数のデータ」を持つ、設計図になりました。

### 🎬 メソッド (Method): 処理

メソッドは、**そのクラスの、インスタンスが、どのような振る舞いをするか**を定義します。クラスの中に、関数を定義するイメージです。メソッドにも、`public`を付けます。

```php
class User
{
    // プロパティ
    public string $name;
    public int $age;

    // メソッド（処理）を定義
    public function introduce(): string
    {
        // 自己紹介文を生成して返す
        return "こんにちは、私の名前は" . $this->name . "です。年齢は" . $this->age . "歳です。";
    }
}
```

#### 特殊な変数 `$this`

メソッドの中で、**そのインスタンス自身の、プロパティや、メソッドにアクセス**するために、`$this`という、特殊な変数が、用意されています。`$this`は、「このメソッドを、呼び出している、インスタンス自身」を指します。

`$this->name` は、「このインスタンスの、`name`プロパティ」という意味になります。このように、インスタンスの、プロパティや、メソッドにアクセスする際には、`->`（アロー演算子）を使います。

### 🚀 インスタンスの利用

それでは、プロパティと、メソッドが定義された`User`クラスから、インスタンスを生成し、実際に、利用してみましょう。

```php
// Userクラスのインスタンスを生成
$user1 = new User();

// インスタンスのプロパティに、値を設定する
$user1->name = "山田 太郎";
$user1->age = 30;

// インスタンスのプロパティに、アクセスして、値を取得する
echo $user1->name; // "山田 太郎" が出力される

// インスタンスのメソッドを呼び出す
$message = $user1->introduce();
echo $message; // "こんにちは、私の名前は山田 太郎です。年齢は30歳です。" が出力される

// 別のインスタンスを生成
$user2 = new User();
$user2->name = "佐藤 花子";
$user2->age = 25;
echo $user2->introduce(); // "こんにちは、私の名前は佐藤 花子です。年齢は25歳です。" が出力される
```

*   **プロパティへのアクセス**: `インスタンス->プロパティ名` の形式で、値の、設定や、取得ができます。
*   **メソッドの呼び出し**: `インスタンス->メソッド名()` の形式で、メソッドを呼び出します。

`$user1`と`$user2`は、同じ`User`クラスから作られていますが、それぞれが、異なる`name`と`age`を持った、独立した、インスタンスであることがわかります。そして、`introduce`メソッドは、`$this`を通じて、それぞれの、インスタンスが持つ、プロパティを、正しく参照しています。

---

## ✨ まとめ

このセクションでは、クラスに、具体的な、データと、処理を定義する方法を学びました。

*   **プロパティ**: クラスが持つ、**データ**。`public $name;` のように定義する。
*   **メソッド**: クラスが持つ、**処理（関数）**。`public function introduce() { ... }` のように定義する。
*   **アクセス修飾子**: 現時点では、プロパティと、メソッドには、`public`を付ける、と覚えておく。
*   **`$this`**: メソッド内部で、**インスタンス自身**を指す、特殊な変数。
*   **アロー演算子 `->`**: インスタンスの、プロパティや、メソッドにアクセスするために使う。（例: `$user->name`, `$user->introduce()`）

データ（プロパティ）と、処理（メソッド）を、一つのクラスに、まとめることで、関連するコードが、一箇所に集まり、プログラムの、構造が、非常に、分かりやすくなります。これが、オブジェクト指向の、大きなメリットの一つです。

次のセクションでは、インスタンスが、生成された時に、自動的に、実行される、特別なメソッド、「コンストラクタ」について、学んでいきます。

---
