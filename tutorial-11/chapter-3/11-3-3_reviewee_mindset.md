# Tutorial 11-3-3: レビュイーとしての心構え

## 🎯 このセクションで学ぶこと

*   レビュイー（レビューを受ける側）としての心構えを学ぶ。
*   フィードバックを受け入れる方法を理解する。
*   レビューを効率的に進める方法を学ぶ。

---

## 導入：レビュイーの役割

**レビュイー（Reviewee）**とは、**自分が書いたコードをレビューしてもらう人**です。

レビュイーの役割は、**フィードバックを受け入れ、コードを改善すること**です。

---

## 詳細解説

### 🔍 レビュイーとしての心構え

#### 心構え1: フィードバックを素直に受け入れる

**フィードバック**は、**批判**ではなく、**改善提案**です。

*   感情的にならない
*   防御的にならない
*   素直に受け入れる

---

#### 心構え2: フィードバックに感謝する

**フィードバック**は、**自分の成長のチャンス**です。

*   「ありがとうございます」と伝える
*   フィードバックから学ぶ
*   次回に活かす

---

#### 心構え3: 疑問点は質問する

**わからないこと**があれば、**質問**します。

*   「なぜこの方法が良いのですか？」
*   「他の方法はありますか？」
*   「この部分について、もう少し詳しく教えてください」

---

#### 心構え4: 議論を恐れない

**フィードバック**に対して、**議論**することは問題ありません。

*   建設的な議論は、コードの品質を向上させる
*   異なる意見を尊重する
*   最終的には、チームで決定する

---

#### 心構え5: 小さな変更を頻繁にレビューしてもらう

**大きな変更**を一度にレビューしてもらうのではなく、**小さな変更**を頻繁にレビューしてもらいます。

*   レビューの負担が軽減される
*   フィードバックが早く得られる
*   バグの早期発見につながる

---

### 🚀 実践例1: フィードバックを素直に受け入れる

#### シナリオ

Aさんがログイン機能を実装し、Bさんにレビューしてもらいました。

**フィードバック**:

```
パスワードをハッシュ化せずに比較しているので、セキュリティ上の問題があります。
`Hash::check()`を使ってください。
```

---

#### NG: 防御的な反応

```
でも、これで動いています。問題ないと思います。
```

---

#### OK: 素直に受け入れる

```
ご指摘ありがとうございます。
`Hash::check()`を使うように修正します。
```

---

### 🚀 実践例2: フィードバックに感謝する

#### シナリオ

Aさんがユーザー一覧を取得する関数を実装し、Bさんにレビューしてもらいました。

**フィードバック**:

```
Eloquentを使った方が可読性が高く、保守性も向上します。
```

---

#### 返信

```
ご指摘ありがとうございます。
Eloquentを使うように修正します。
勉強になりました！
```

---

### 🚀 実践例3: 疑問点は質問する

#### シナリオ

Aさんがログイン機能を実装し、Bさんにレビューしてもらいました。

**フィードバック**:

```
この部分は、リファクタリングした方が良いと思います。
```

---

#### 質問

```
ご指摘ありがとうございます。
具体的にどのようにリファクタリングすれば良いでしょうか？
```

---

### 🚀 実践例4: 議論を恐れない

#### シナリオ

Aさんがログイン機能を実装し、Bさんにレビューしてもらいました。

**フィードバック**:

```
この部分は、メソッドを分割した方が良いと思います。
```

---

#### 議論

```
ご指摘ありがとうございます。
ただ、この機能はシンプルなので、1つのメソッドでも問題ないと思います。
メソッドを分割するメリットは何でしょうか？
```

---

#### Bさんの返信

```
メソッドを分割することで、各メソッドの責務が明確になります。
また、将来的に複雑になった場合にも、保守性が高くなります。
```

---

#### Aさんの返信

```
なるほど、理解しました。
メソッドを分割します。
```

---

### 🔍 レビューを効率的に進める方法

#### 方法1: セルフレビューを行う

**プルリクエストを作成する前**に、自分でコードをレビューします。

*   明らかなミスを修正できる
*   レビュアーの負担が軽減される

---

#### 方法2: プルリクエストの説明を詳しく書く

**プルリクエストの説明**を詳しく書くと、レビュアーが理解しやすくなります。

*   変更内容
*   変更の理由
*   スクリーンショット
*   確認事項

---

#### 方法3: テストを書く

**テスト**を書くと、レビュアーが安心してレビューできます。

*   コードが正しく動作することを証明できる
*   バグの早期発見につながる

---

#### 方法4: フィードバックに迅速に対応する

**フィードバック**に迅速に対応すると、レビューが早く完了します。

*   レビュアーを待たせない
*   プロジェクトの進捗が早くなる

---

### 🚀 実践例5: セルフレビューを行う

#### ステップ1: コードを書く

```php
public function login(Request $request)
{
    $user = User::where('email', $request->email)->first();
    
    if ($user->password === $request->password) {
        Auth::login($user);
        return redirect('/dashboard');
    }
    
    return back()->withErrors(['email' => 'ログインに失敗しました']);
}
```

---

#### ステップ2: セルフレビュー

「パスワードをハッシュ化せずに比較している...これはセキュリティ上の問題だ！」

---

#### ステップ3: 修正

```php
public function login(Request $request)
{
    $user = User::where('email', $request->email)->first();
    
    if ($user && Hash::check($request->password, $user->password)) {
        Auth::login($user);
        return redirect('/dashboard');
    }
    
    return back()->withErrors(['email' => 'ログインに失敗しました']);
}
```

---

#### ステップ4: プルリクエストを作成

---

### 💡 TIP: レビューのタイミング

**レビュー**は、**早めに依頼**します。

*   開発が完了する前にレビューを依頼する（WIP: Work In Progress）
*   早めにフィードバックを得られる
*   大きな修正を避けられる

---

### 🚨 よくある間違い

#### 間違い1: フィードバックを感情的に受け取る

```
# NG
なぜ私のコードを批判するんですか！
```

**対処法**: フィードバックは改善提案であることを理解します。

```
# OK
ご指摘ありがとうございます。修正します。
```

---

#### 間違い2: フィードバックを無視する

**対処法**: フィードバックに対応します。

---

#### 間違い3: 大きな変更を一度にレビューしてもらう

**対処法**: 小さな変更を頻繁にレビューしてもらいます。

---

### 🔍 レビュイーとしてのスキルアップ

#### スキルアップ1: フィードバックから学ぶ

**フィードバック**から学び、次回に活かします。

*   同じミスを繰り返さない
*   新しい技術を学ぶ
*   ベストプラクティスを学ぶ

---

#### スキルアップ2: 他の人のプルリクエストを見る

**他の人のプルリクエスト**を見ることで、学ぶことができます。

*   どのようなコードを書いているか
*   どのようなフィードバックを受けているか
*   どのように対応しているか

---

#### スキルアップ3: 継続的に改善する

**継続的に改善**することで、コードの品質が向上します。

*   フィードバックを活かす
*   新しい技術を学ぶ
*   ベストプラクティスを学ぶ

---

## ✨ まとめ

このセクションでは、レビュイーとしての心構えについて学びました。

*   フィードバックを素直に受け入れ、感謝する。
*   疑問点は質問し、議論を恐れない。
*   セルフレビューを行い、プルリクエストの説明を詳しく書く。

次のセクションでは、実践的なコードレビュー演習を行います。

---
