# Tutorial 11-2-3: ã‚¿ã‚¹ã‚¯ä½œæˆã®å®Ÿè£…

## ğŸ¯ ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§å­¦ã¶ã“ã¨

- ã‚¿ã‚¹ã‚¯ä½œæˆãƒ•ã‚©ãƒ¼ãƒ ã‚’å®Ÿè£…ã™ã‚‹æ–¹æ³•ã‚’å­¦ã¶
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã—ã€ä¸æ­£ãªãƒ‡ãƒ¼ã‚¿ã‚’é˜²ãæ–¹æ³•ã‚’å­¦ã¶
- ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ“ä½œçµæœã‚’ä¼ãˆã‚‹æ–¹æ³•ã‚’å­¦ã¶

---

## ğŸ§  å…ˆè¼©ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®æ€è€ƒãƒ—ãƒ­ã‚»ã‚¹

### ã€Œãªãœä¸€è¦§è¡¨ç¤ºã®æ¬¡ã«ã€ä½œæˆã€ã‚’å®Ÿè£…ã™ã‚‹ã®ã‹ï¼Ÿã€

ä¸€è¦§ç”»é¢ãŒã§ããŸã‚‰ã€æ¬¡ã¯ã€Œä½œæˆã€æ©Ÿèƒ½ã§ã™ã€‚ãªãœã€Œè©³ç´°ã€ã‚„ã€Œç·¨é›†ã€ã§ã¯ãªãã€Œä½œæˆã€ãªã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ

---

### ç†ç”±1: ãƒ‡ãƒ¼ã‚¿ãŒãªã„ã¨ä»–ã®æ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆã§ããªã„

ç¾åœ¨ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã¯ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã—ã‹ã‚ã‚Šã¾ã›ã‚“ã€‚

ã€Œä½œæˆã€æ©Ÿèƒ½ãŒã‚ã‚Œã°ã€**ç”»é¢ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ã§ãã‚‹**ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã€Œè©³ç´°ã€ã€Œç·¨é›†ã€ã€Œå‰Šé™¤ã€ã®ãƒ†ã‚¹ãƒˆãŒã—ã‚„ã™ããªã‚Šã¾ã™ã€‚

---

### ç†ç”±2: ãƒ•ã‚©ãƒ¼ãƒ ã®åŸºæœ¬ã‚’å­¦ã¹ã‚‹

ã€Œä½œæˆã€æ©Ÿèƒ½ã§ã¯ã€ä»¥ä¸‹ã®é‡è¦ãªæ¦‚å¿µã‚’å­¦ã³ã¾ã™ï¼š

- **ãƒ•ã‚©ãƒ¼ãƒ ã®ä½œæˆ**ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®å…¥åŠ›ã‚’å—ã‘ä»˜ã‘ã‚‹
- **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**ï¼šä¸æ­£ãªãƒ‡ãƒ¼ã‚¿ã‚’é˜²ã
- **ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ**ï¼šä¿å­˜å¾Œã«ä¸€è¦§ç”»é¢ã«æˆ»ã‚‹
- **ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**ï¼šæ“ä½œçµæœã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä¼ãˆã‚‹

ã“ã‚Œã‚‰ã¯ã€Œç·¨é›†ã€æ©Ÿèƒ½ã§ã‚‚ä½¿ã†ã®ã§ã€**å…ˆã«ã€Œä½œæˆã€ã§å­¦ã‚“ã§ãŠãã¨åŠ¹ç‡çš„**ã§ã™ã€‚

---

### ç†ç”±3: ä¸€è¦§ç”»é¢ã§å‹•ä½œç¢ºèªã§ãã‚‹

ã€Œä½œæˆã€æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ãŸã‚‰ã€ä¸€è¦§ç”»é¢ã§**æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹ç¢ºèª**ã§ãã¾ã™ã€‚

ã“ã‚ŒãŒã€ä¸€è¦§è¡¨ç¤ºã‚’å…ˆã«ä½œã£ãŸç†ç”±ã®ä¸€ã¤ã§ã™ã€‚

---

### ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã‚„ã‚‹ã“ã¨

| é †ç•ª | ä½œæ¥­ | ç†ç”± |
|------|------|------|
| Step 1 | ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®è¿½åŠ  | ãƒ•ã‚©ãƒ¼ãƒ è¡¨ç¤ºã¨ä¿å­˜ã®2ã¤ã®URLãŒå¿…è¦ |
| Step 2 | createãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè£… | ãƒ•ã‚©ãƒ¼ãƒ ã‚’è¡¨ç¤ºã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ |
| Step 3 | ä½œæˆãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ“ãƒ¥ãƒ¼ä½œæˆ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¥åŠ›ã™ã‚‹ç”»é¢ |
| Step 4 | storeãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè£… | ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ |
| Step 5 | ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¡¨ç¤º | æ“ä½œçµæœã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä¼ãˆã‚‹ |
| Step 6 | å‹•ä½œç¢ºèª | æ­£ã—ãå‹•ä½œã™ã‚‹ã‹ç¢ºèªã™ã‚‹ |

> ğŸ’¡ **ãƒã‚¤ãƒ³ãƒˆ**: ã€Œä½œæˆã€æ©Ÿèƒ½ã¯2ã¤ã®ãƒ«ãƒ¼ãƒˆãŒå¿…è¦ã§ã™ã€‚ãƒ•ã‚©ãƒ¼ãƒ è¡¨ç¤ºï¼ˆGETï¼‰ã¨ãƒ‡ãƒ¼ã‚¿ä¿å­˜ï¼ˆPOSTï¼‰ã§ã™ã€‚

---

## Step 1: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®è¿½åŠ 

### 1-1. ä½œæˆç”¨ã®ãƒ«ãƒ¼ãƒˆã‚’å®šç¾©ã™ã‚‹

ã‚¿ã‚¹ã‚¯ä½œæˆã«ã¯2ã¤ã®ãƒ«ãƒ¼ãƒˆãŒå¿…è¦ã§ã™ã€‚

**ãƒ•ã‚¡ã‚¤ãƒ«**: `routes/web.php`

```php
use App\Http\Controllers\TaskController;

Route::middleware(['auth'])->group(function () {
    Route::get('/tasks', [TaskController::class, 'index'])->name('tasks.index');
    Route::get('/tasks/create', [TaskController::class, 'create'])->name('tasks.create');
    Route::post('/tasks', [TaskController::class, 'store'])->name('tasks.store');
});
```

---

### 1-2. ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

#### `Route::get('/tasks/create', ...)->name('tasks.create')`

- `GET /tasks/create`ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€`create`ãƒ¡ã‚½ãƒƒãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã¾ã™
- ã“ã®ãƒ«ãƒ¼ãƒˆã¯**ãƒ•ã‚©ãƒ¼ãƒ ã‚’è¡¨ç¤ºã™ã‚‹**ãŸã‚ã®ã‚‚ã®ã§ã™

---

#### `Route::post('/tasks', ...)->name('tasks.store')`

- `POST /tasks`ã«ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ã™ã‚‹ã¨ã€`store`ãƒ¡ã‚½ãƒƒãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã¾ã™
- ã“ã®ãƒ«ãƒ¼ãƒˆã¯**ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹**ãŸã‚ã®ã‚‚ã®ã§ã™

---

#### ãªãœ2ã¤ã®ãƒ«ãƒ¼ãƒˆãŒå¿…è¦ãªã®ã‹ï¼Ÿ

| ãƒ«ãƒ¼ãƒˆ | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | å½¹å‰² |
|--------|-------------|------|
| `/tasks/create` | GET | ãƒ•ã‚©ãƒ¼ãƒ ã‚’è¡¨ç¤ºã™ã‚‹ |
| `/tasks` | POST | ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹ |

ãƒ•ã‚©ãƒ¼ãƒ è¡¨ç¤ºã¨ä¿å­˜ã‚’åˆ†ã‘ã‚‹ã“ã¨ã§ã€**è²¬å‹™ãŒæ˜ç¢º**ã«ãªã‚Šã¾ã™ã€‚

---

## Step 2: createãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè£…

### 2-1. ãƒ•ã‚©ãƒ¼ãƒ è¡¨ç¤ºãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã™ã‚‹

ã‚¿ã‚¹ã‚¯ä½œæˆãƒ•ã‚©ãƒ¼ãƒ ã‚’è¡¨ç¤ºã™ã‚‹`create`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã—ã¾ã™ã€‚

**ãƒ•ã‚¡ã‚¤ãƒ«**: `app/Http/Controllers/TaskController.php`

```php
public function create()
{
    return view('tasks.create');
}
```

---

### 2-2. ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

#### `return view('tasks.create')`

- `resources/views/tasks/create.blade.php`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¡¨ç¤ºã—ã¾ã™
- `create`ãƒ¡ã‚½ãƒƒãƒ‰ã¯ãƒ•ã‚©ãƒ¼ãƒ ã‚’è¡¨ç¤ºã™ã‚‹ã ã‘ãªã®ã§ã€ã‚·ãƒ³ãƒ—ãƒ«ã§ã™

---

## Step 3: ä½œæˆãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ“ãƒ¥ãƒ¼ä½œæˆ

### 3-1. ãƒ“ãƒ¥ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹

ã‚¿ã‚¹ã‚¯ä½œæˆãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ“ãƒ¥ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚

**ãƒ•ã‚¡ã‚¤ãƒ«**: `resources/views/tasks/create.blade.php`

```blade
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¿ã‚¹ã‚¯ä½œæˆ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input[type="text"],
        input[type="date"],
        textarea,
        select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .error {
            color: red;
            margin-bottom: 15px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .cancel-link {
            margin-left: 10px;
            color: #666;
        }
    </style>
</head>
<body>
    <h1>ã‚¿ã‚¹ã‚¯ä½œæˆ</h1>

    @if ($errors->any())
        <div class="error">
            <ul>
                @foreach ($errors->all() as $error)
                    <li>{{ $error }}</li>
                @endforeach
            </ul>
        </div>
    @endif

    <form method="POST" action="{{ route('tasks.store') }}">
        @csrf

        <div class="form-group">
            <label for="title">ã‚¿ã‚¤ãƒˆãƒ«</label>
            <input type="text" id="title" name="title" value="{{ old('title') }}" required>
        </div>

        <div class="form-group">
            <label for="description">èª¬æ˜</label>
            <textarea id="description" name="description" rows="4">{{ old('description') }}</textarea>
        </div>

        <div class="form-group">
            <label for="due_date">æœŸé™</label>
            <input type="date" id="due_date" name="due_date" value="{{ old('due_date') }}">
        </div>

        <div class="form-group">
            <label for="status">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</label>
            <select id="status" name="status">
                <option value="pending" {{ old('status') == 'pending' ? 'selected' : '' }}>æœªç€æ‰‹</option>
                <option value="in_progress" {{ old('status') == 'in_progress' ? 'selected' : '' }}>é€²è¡Œä¸­</option>
                <option value="completed" {{ old('status') == 'completed' ? 'selected' : '' }}>å®Œäº†</option>
            </select>
        </div>

        <button type="submit">ä½œæˆ</button>
        <a href="{{ route('tasks.index') }}" class="cancel-link">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</a>
    </form>
</body>
</html>
```

---

### 3-2. ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

#### `@csrf`

- **CSRFï¼ˆã‚¯ãƒ­ã‚¹ã‚µã‚¤ãƒˆãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ•ã‚©ãƒ¼ã‚¸ã‚§ãƒªï¼‰å¯¾ç­–**ã®ãŸã‚ã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç”Ÿæˆã—ã¾ã™
- ãƒ•ã‚©ãƒ¼ãƒ ã‚’é€ä¿¡ã™ã‚‹ã¨ãã«ã€ã“ã®ãƒˆãƒ¼ã‚¯ãƒ³ãŒãªã„ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™
- LaravelãŒè‡ªå‹•çš„ã«ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ¤œè¨¼ã—ã€ä¸æ­£ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é˜²ãã¾ã™

---

#### `{{ old('title') }}`

- `old()`ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã¯ã€**ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼æ™‚ã«å…¥åŠ›ã—ãŸå€¤ã‚’ä¿æŒ**ã—ã¾ã™
- ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã‚‚ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¥åŠ›ã—ãŸå€¤ãŒæ¶ˆãˆãªã„ã®ã§ã€å†å…¥åŠ›ã®æ‰‹é–“ãŒçœã‘ã¾ã™

---

#### `@if ($errors->any())`

- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹å ´åˆã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¾ã™
- `$errors`ã¯ã€LaravelãŒè‡ªå‹•çš„ã«ãƒ“ãƒ¥ãƒ¼ã«æ¸¡ã™ã‚¨ãƒ©ãƒ¼ãƒãƒƒã‚°ã§ã™

---

## Step 4: storeãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè£…

### 4-1. ãƒ‡ãƒ¼ã‚¿ä¿å­˜ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã™ã‚‹

ã‚¿ã‚¹ã‚¯ã‚’ä¿å­˜ã™ã‚‹`store`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã—ã¾ã™ã€‚

**ãƒ•ã‚¡ã‚¤ãƒ«**: `app/Http/Controllers/TaskController.php`

```php
public function store(Request $request)
{
    $validated = $request->validate([
        'title' => 'required|string|max:255',
        'description' => 'nullable|string',
        'due_date' => 'nullable|date',
        'status' => 'required|in:pending,in_progress,completed',
    ]);

    $validated['user_id'] = auth()->id();

    Task::create($validated);

    return redirect()->route('tasks.index')->with('success', 'ã‚¿ã‚¹ã‚¯ã‚’ä½œæˆã—ã¾ã—ãŸã€‚');
}
```

---

### 4-2. ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

#### `$request->validate([...])`

- ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã—ã¾ã™
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã«å¤±æ•—ã™ã‚‹ã¨ã€è‡ªå‹•çš„ã«å‰ã®ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã¾ã™

---

#### ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ã®è§£èª¬

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | ãƒ«ãƒ¼ãƒ« | èª¬æ˜ |
|---|---|---|
| `title` | `required` | å¿…é ˆé …ç›® |
| `title` | `string` | æ–‡å­—åˆ—å‹ |
| `title` | `max:255` | æœ€å¤§255æ–‡å­— |
| `description` | `nullable` | ç©ºã§ã‚‚è‰¯ã„ |
| `due_date` | `date` | æ—¥ä»˜å½¢å¼ |
| `status` | `in:pending,in_progress,completed` | æŒ‡å®šã—ãŸå€¤ã®ã¿è¨±å¯ |

---

#### `$validated['user_id'] = auth()->id()`

- ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®IDã‚’å–å¾—ã—ã€`user_id`ã«è¨­å®šã—ã¾ã™
- ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¿ã‚¹ã‚¯ãŒã©ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚‚ã®ã‹ç´ä»˜ã‘ã‚‰ã‚Œã¾ã™

---

#### `Task::create($validated)`

- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ¸ˆã¿ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦ã€æ–°ã—ã„ã‚¿ã‚¹ã‚¯ã‚’ä½œæˆã—ã¾ã™
- `create()`ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’æŒ¿å…¥ã—ã¾ã™

---

#### `return redirect()->route('tasks.index')->with('success', '...')`

- ã‚¿ã‚¹ã‚¯ä¸€è¦§ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã—ã¾ã™
- `with('success', '...')`ã§ã€ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«ä¿å­˜ã—ã¾ã™

---

## Step 5: ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¡¨ç¤º

### 5-1. ä¸€è¦§ç”»é¢ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã‚’è¿½åŠ ã™ã‚‹

ã‚¿ã‚¹ã‚¯ä½œæˆå¾Œã«ã€ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

**ãƒ•ã‚¡ã‚¤ãƒ«**: `resources/views/tasks/index.blade.php`

ä¸€è¦§ç”»é¢ã®`<h1>`ã‚¿ã‚°ã®ä¸‹ã«ã€ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```blade
@if (session('success'))
    <div style="color: green; margin-bottom: 15px; padding: 10px; background-color: #e8f5e9; border-radius: 4px;">
        {{ session('success') }}
    </div>
@endif

<a href="{{ route('tasks.create') }}" style="display: inline-block; margin-bottom: 15px; padding: 10px 20px; background-color: #4CAF50; color: white; text-decoration: none; border-radius: 4px;">æ–°è¦ä½œæˆ</a>
```

---

### 5-2. ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

#### `session('success')`

- ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰`success`ã‚­ãƒ¼ã®å€¤ã‚’å–å¾—ã—ã¾ã™
- `with('success', '...')`ã§ä¿å­˜ã—ãŸå€¤ãŒå–å¾—ã§ãã¾ã™
- ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯**1å›ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã®ã¿æœ‰åŠ¹**ã§ã™

---

## Step 6: å‹•ä½œç¢ºèª

### 6-1. ãƒ•ã‚©ãƒ¼ãƒ è¡¨ç¤ºã‚’ç¢ºèªã™ã‚‹

ãƒ–ãƒ©ã‚¦ã‚¶ã§`http://localhost/tasks/create`ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€ã‚¿ã‚¹ã‚¯ä½œæˆãƒ•ã‚©ãƒ¼ãƒ ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚

---

### 6-2. ã‚¿ã‚¹ã‚¯ã‚’ä½œæˆã™ã‚‹

1. ã‚¿ã‚¤ãƒˆãƒ«ã«ã€Œæ–°ã—ã„ã‚¿ã‚¹ã‚¯ã€ã¨å…¥åŠ›
2. èª¬æ˜ã«ã€Œã“ã‚Œã¯æ–°ã—ã„ã‚¿ã‚¹ã‚¯ã®èª¬æ˜ã§ã™ã€‚ã€ã¨å…¥åŠ›
3. æœŸé™ã«ã€Œ2024-12-31ã€ã¨å…¥åŠ›
4. ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã«ã€Œæœªç€æ‰‹ã€ã‚’é¸æŠ
5. ã€Œä½œæˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

ã‚¿ã‚¹ã‚¯ä¸€è¦§ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã€ã€Œã‚¿ã‚¹ã‚¯ã‚’ä½œæˆã—ã¾ã—ãŸã€‚ã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚

---

### 6-3. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèªã™ã‚‹

1. ã‚¿ã‚¤ãƒˆãƒ«ã‚’ç©ºã«ã—ã¦ã€Œä½œæˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ã€Œã‚¿ã‚¤ãƒˆãƒ«ã¯å¿…é ˆã§ã™ã€‚ã€ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹

---

## ğŸš¨ ã‚ˆãã‚ã‚‹é–“é•ã„

### é–“é•ã„1: @csrfã‚’å¿˜ã‚Œã‚‹

**ã‚¨ãƒ©ãƒ¼**:

```
419 | Page Expired
```

**å¯¾å‡¦æ³•**: ãƒ•ã‚©ãƒ¼ãƒ ã«`@csrf`ã‚’è¿½åŠ ã—ã¾ã™ã€‚

---

### é–“é•ã„2: user_idã‚’è¨­å®šã—ã¦ã„ãªã„

**ã‚¨ãƒ©ãƒ¼**:

```
SQLSTATE[HY000]: General error: 1364 Field 'user_id' doesn't have a default value
```

**å¯¾å‡¦æ³•**: `store`ãƒ¡ã‚½ãƒƒãƒ‰ã§`user_id`ã‚’è¨­å®šã—ã¾ã™ã€‚

```php
$validated['user_id'] = auth()->id();
```

---

### é–“é•ã„3: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œãªã„

**å¯¾å‡¦æ³•**: ãƒ“ãƒ¥ãƒ¼ã«`@if ($errors->any())`ã‚’è¿½åŠ ã—ã¾ã™ã€‚

---

## ğŸ’¡ TIP: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ã¯ã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ã€‚

**ä¾‹**: ã‚¿ã‚¤ãƒˆãƒ«ã‚’10æ–‡å­—ä»¥ä¸Šã«ã™ã‚‹

```php
$validated = $request->validate([
    'title' => 'required|string|min:10|max:255',
]);
```

**ä¾‹**: æœŸé™ã‚’ä»Šæ—¥ä»¥é™ã«ã™ã‚‹

```php
$validated = $request->validate([
    'due_date' => 'nullable|date|after_or_equal:today',
]);
```

---

## âœ¨ ã¾ã¨ã‚

ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€ã‚¿ã‚¹ã‚¯ä½œæˆæ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã—ãŸã€‚

| Step | å­¦ã‚“ã ã“ã¨ |
|------|-----------|
| Step 1 | ä½œæˆæ©Ÿèƒ½ã«ã¯2ã¤ã®ãƒ«ãƒ¼ãƒˆï¼ˆGET/POSTï¼‰ãŒå¿…è¦ |
| Step 2 | `create`ãƒ¡ã‚½ãƒƒãƒ‰ã§ãƒ•ã‚©ãƒ¼ãƒ ã‚’è¡¨ç¤ºã™ã‚‹ |
| Step 3 | ãƒ•ã‚©ãƒ¼ãƒ ã«ã¯`@csrf`ã¨`old()`ãŒå¿…è¦ |
| Step 4 | `store`ãƒ¡ã‚½ãƒƒãƒ‰ã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¨ä¿å­˜ã‚’è¡Œã† |
| Step 5 | ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§æ“ä½œçµæœã‚’ä¼ãˆã‚‹ |
| Step 6 | å‹•ä½œç¢ºèªã¨ã‚¨ãƒ©ãƒ¼ç¢ºèªã®æ–¹æ³• |

æ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€ã‚¿ã‚¹ã‚¯è©³ç´°ã®å®Ÿè£…ã«ã¤ã„ã¦å­¦ã³ã¾ã™ã€‚

---
