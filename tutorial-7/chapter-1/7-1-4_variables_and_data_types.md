# Tutorial 7-1-4: 変数とデータ型

## 🎯 このセクションで学ぶこと

*   変数とは何か、その役割と重要性を理解する。
*   PHPにおける変数の命名規則と、代入の方法を学ぶ。
*   文字列、数値、真偽値、配列など、PHPの主要なデータ型を理解する。
*   シングルクォーテーションとダブルクォーテーションの、文字列における、具体的な違いを理解する。

---

## 導入

プログラミングとは、突き詰めれば、**データを処理すること**です。ユーザーが入力した名前、商品の価格、ブログの記事など、様々なデータを、加工したり、保存したり、表示したりします。これらのデータを、一時的に、コンピュータのメモリ上に、保存しておくための「箱」、それが**変数 (Variable)** です。

変数は、プログラミングにおいて、最も基本的で、最も重要な概念の一つです。変数を使わずに、意味のあるプログラムを書くことは、ほぼ不可能です。

このセクションでは、この「魔法の箱」である変数の使い方と、その箱に入れることができる、データの種類（データ型）について、詳しく学んでいきましょう。

---

## 詳細解説

### 📦 変数 (Variables)

変数とは、**データに名前を付けて、保存しておくための仕組み**です。一度、変数にデータを入れておけば、後から、その名前を使って、データを取り出したり、中身を書き換えたりすることができます。

PHPでは、変数は、**ドル記号（`$`）**で始まり、その後に、英数字とアンダースコア（`_`）が続く名前で、表されます。変数に、データを入れる（保存する）ことを、**代入 (Assignment)** といい、イコール記号（`=`）を使います。

```php
<?php

// 変数 $name に、文字列 "山田太郎" を代入する
$name = "山田太郎";

// 変数 $age に、数値 30 を代入する
$age = 30;

// 変数の中身を echo で出力する
echo $name; // "山田太郎" が出力される
echo $age;  // "30" が出力される

// 変数の中身は、後から書き換えることができる
$age = 31;
echo $age; // "31" が出力される
```

#### 変数の命名規則

変数の名前は、自由に付けることができますが、いくつかのルールと、慣習があります。

*   **ルール（必須）**
    *   必ず `$` で始める。
    *   2文字目以降は、英字、数字、アンダースコア（`_`）のみ使用できる。
    *   数字から始めることはできない。（`$1name` はNG）
    *   大文字と小文字は、区別される。（`$name` と `$Name` は、別の変数）

*   **慣習（推奨）**
    *   中身が、何を表しているのか、分かりやすい名前を付ける。（`$x` ではなく `$user_name`）
    *   複数の単語を組み合わせる場合は、`snake_case`（例: `$user_name`）または `camelCase`（例: `$userName`）で記述する。Laravelを含む、多くのPHPプロジェクトでは、**`camelCase`が主流**です。

### 📊 データ型 (Data Types)

データ型とは、その変数が、どのような種類のデータを、保持しているのかを示す、分類のことです。PHPは、**動的型付け言語**と呼ばれ、変数の型を、事前に宣言する必要がなく、代入された値によって、型が自動的に決まります。

PHPには、いくつかのデータ型がありますが、まずは、以下の、主要な4つを、しっかりと押さえましょう。

| データ型 | 説明 | 例 |
| :--- | :--- | :--- |
| **String (文字列)** | 文字の並び。シングルまたはダブルクォーテーションで囲む。 | `'Hello'`, `"山田太郎"` |
| **Integer (整数)** | 小数点のない数値。 | `123`, `-50`, `0` |
| **Boolean (真偽値)** | 真（`true`）または偽（`false`）の2つの値のみを持つ。条件分岐などで使われる。 | `true`, `false` |
| **Array (配列)** | 複数の値を、順序付けて、まとめて格納できる、特殊な変数。 | `['りんご', 'バナナ', 'みかん']` |

他にも、`Float`（浮動小数点数）、`Object`（オブジェクト）、`NULL`（ヌル）などがありますが、これらは、必要になったタイミングで、学んでいけば問題ありません。

### 📦 配列の詳細

配列は、複数のデータをまとめて管理するための、非常に重要なデータ型です。PHPでは、主に3種類の配列があります。

#### 1. 配列（インデックス配列）

最も基本的な配列です。複数の値を、**番号（インデックス）**で管理します。番号は**0から始まる**ことに注意してください。

```php
<?php
// 配列の作成
$fruits = ['りんご', 'バナナ', 'みかん'];

// 配列の要素にアクセス（番号は0から始まる）
echo $fruits[0]; // "りんご" が出力される
echo $fruits[1]; // "バナナ" が出力される
echo $fruits[2]; // "みかん" が出力される

// 配列に要素を追加
$fruits[] = 'ぶどう'; // 末尾に追加される
echo $fruits[3]; // "ぶどう" が出力される
```

**コードリーディング**：

| コード | 説明 |
| :--- | :--- |
| `$fruits = ['りんご', 'バナナ', 'みかん']` | 3つの要素を持つ配列を作成 |
| `$fruits[0]` | 配列の1番目の要素（インデックスは0から始まる） |
| `$fruits[] = 'ぶどう'` | 配列の末尾に新しい要素を追加 |

#### 2. 連想配列

番号の代わりに、**名前（キー）**で値を管理する配列です。「この名前に対応する値は何？」という形でデータを取得できます。

```php
<?php
// 連想配列の作成（キー => 値 の形式）
$scores = [
    '国語' => 80,
    '数学' => 95,
    '英語' => 72,
];

// キーを使って値にアクセス
echo $scores['国語']; // "80" が出力される
echo $scores['数学']; // "95" が出力される
echo $scores['英語']; // "72" が出力される

// 新しいキーと値を追加
$scores['理科'] = 88;
echo $scores['理科']; // "88" が出力される
```

**コードリーディング**：

| コード | 説明 |
| :--- | :--- |
| `'国語' => 80` | キー「国語」に値「80」を関連付ける（`=>`は「ダブルアロー」と呼ぶ） |
| `$scores['国語']` | キー「国語」に対応する値を取得 |
| `$scores['理科'] = 88` | 新しいキー「理科」と値「88」を追加 |

> 💡 **ポイント**: 連想配列は、ユーザー情報や設定値など、名前でデータを管理したい場合に非常に便利です。

#### 3. 二次元配列（配列の中に配列）

配列の中に、さらに配列を入れることもできます。これを**二次元配列**と呼びます。表形式のデータを表現するのに適しています。

```php
<?php
// 二次元配列の作成（商品リスト）
$products = [
    ['name' => 'ノートPC', 'price' => 80000],
    ['name' => 'マウス', 'price' => 3000],
    ['name' => 'キーボード', 'price' => 5000],
];

// 最初の商品の名前を取得
echo $products[0]['name']; // "ノートPC" が出力される

// 2番目の商品の価格を取得
echo $products[1]['price']; // "3000" が出力される
```

**コードリーディング**：

| コード | 説明 |
| :--- | :--- |
| `$products[0]` | 配列の1番目の要素（`['name' => 'ノートPC', 'price' => 80000]`） |
| `$products[0]['name']` | 1番目の要素の中の、キー「name」に対応する値 |
| `$products[1]['price']` | 2番目の要素の中の、キー「price」に対応する値 |

> 💡 **ポイント**: 二次元配列は、データベースから取得したデータや、複数のユーザー情報を扱う際によく使われます。

#### 配列の種類まとめ

| 種類 | 特徴 | 使いどころ |
| :--- | :--- | :--- |
| **配列（インデックス配列）** | 番号（0, 1, 2...）で管理 | 順序が重要なリスト（ランキング、履歴など） |
| **連想配列** | 名前（キー）で管理 | 名前でアクセスしたいデータ（設定値、ユーザー情報など） |
| **二次元配列** | 配列の中に配列 | 表形式のデータ（商品リスト、ユーザー一覧など） |

### 文字列の連結と変数展開

文字列を扱う上で、非常に重要な、2つのテクニックがあります。

1.  **文字列の連結 (Concatenation)**
    ピリオド（`.`）演算子を使うと、複数の文字列や、変数を、つなぎ合わせて、一つの新しい文字列を、作ることができます。

    ```php
    $last_name = '山田';
    $first_name = '太郎';

    // ピリオドで連結
    $full_name = $last_name . $first_name;
    echo $full_name; // "山田太郎" が出力される

    echo '私の名前は、' . $full_name . 'です。';
    ```

2.  **変数展開 (Variable Interpolation)**
    **ダブルクォーテーション（`"`）**で囲まれた文字列の中に、変数を記述すると、その部分が、変数の値に、自動的に置き換えられます。これを、変数展開と呼びます。

    ```php
    $name = '佐藤';
    $age = 25;

    // ダブルクォーテーション内で、変数を展開
    echo "私の名前は、$name です。年齢は、$age 歳です。";
    // 出力: 私の名前は、佐藤 です。年齢は、25 歳です。

    // シングルクォーテーションでは、変数展開は行われない
    echo '私の名前は、$name です。年齢は、$age 歳です。';
    // 出力: 私の名前は、$name です。年齢は、$age 歳です。
    ```

変数展開は、コードが、すっきりと、読みやすくなるため、非常に便利です。ただし、単純な文字列の場合は、シングルクォーテーションの方が、処理が、わずかに高速であるため、「**基本はシングルクォーテーション、変数展開が必要なときだけ、ダブルクォーテーション**」という使い分けが、推奨されます。

---

## ✨ まとめ

このセクションでは、プログラミングの基本である、変数とデータ型について学びました。

*   **変数**: データに名前を付けて、保存しておくための「箱」。`$`で始まり、`=`で代入する。
*   **命名規則**: 分かりやすい名前を、`camelCase`で付けるのが、一般的。
*   **データ型**: PHPは、動的型付け言語。主要な型は、`String`, `Integer`, `Boolean`, `Array`の4つ。
*   **文字列**: シングルクォーテーションと、ダブルクォーテーションがあり、後者では、**変数展開**が使える。
*   **連結**: ピリオド（`.`）を使って、文字列や変数を、つなぎ合わせることができる。

変数を、自由自在に、使いこなせるようになることが、プログラミング上達への、第一歩です。次のセクションからは、これらの変数を、どのように、処理・操作していくのか、具体的な、制御構文について、学んでいきます。

---
