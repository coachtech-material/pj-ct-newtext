# Tutorial 7-2-3: 条件分岐（if, switch）

## 🎯 このセクションで学ぶこと

*   条件分岐とは何か、その必要性を理解する。
*   `if`文を使って、特定の条件が、真（true）の場合にのみ、処理を実行する方法を学ぶ。
*   `else`と`elseif`を使って、複数の条件で、処理を分岐させる方法を学ぶ。
*   `switch`文を使って、変数の値に応じて、多くの選択肢から、処理を分岐させる方法を学ぶ。

---

## 導入

これまでのプログラムは、上から下へ、一本道で、処理が実行されるだけでした。しかし、実際のアプリケーションでは、「もし、ユーザーが、20歳以上なら、お酒のページを表示する」「もし、検索キーワードが、空なら、エラーメッセージを表示する」のように、**特定の条件に応じて、実行する処理を変えたい**場面が、頻繁に登場します。

このような、「もし、〇〇ならば、△△する」という、処理の流れを、コントロールする仕組みが、**条件分岐 (Conditional Branching)** です。条件分岐を使いこなすことで、プログラムは、単なる、命令の羅列から、状況に応じて、判断を下すことができる、知的な存在へと、進化します。

このセクションでは、PHPにおける、条件分岐の、最も基本的な、2つの構文、`if`文と`switch`文について、学んでいきます。

---

## 詳細解説

### 🤔 `if`文: もし〜ならば

`if`文は、プログラミングにおける、最も基本的な、条件分岐の構文です。`()`の中に、条件式を記述し、その条件が、真（`true`）と評価された場合にのみ、`{}`の中の処理が、実行されます。

```php
$age = 20;

// もし、変数 $age が、18以上ならば
if ($age >= 18) {
    echo "あなたは、成人です。";
}
```

#### 比較演算子

条件式では、2つの値を比較するために、**比較演算子**が、よく使われます。

| 演算子 | 意味 | 例 |
| :--- | :--- | :--- |
| `==` | 等しい | `$a == $b` |
| `!=` | 等しくない | `$a != $b` |
| `>` | より大きい | `$a > $b` |
| `<` | より小さい | `$a < $b` |
| `>=` | 以上 | `$a >= $b` |
| `<=` | 以下 | `$a <= $b` |
| `===` | 型も含めて、厳密に等しい | `$a === $b` |
| `!==` | 型も含めて、厳密に等しくない | `$a !== $b` |

> **💡 `==` と `===` の違い**
> `==`は、型が違っても、値が同じであれば`true`になります（例: `5 == "5"`は`true`）。一方、`===`は、型と値の両方が、完全に一致している場合のみ`true`になります（例: `5 === "5"`は`false`）。意図しないバグを防ぐため、**条件比較では、常に、厳密な比較である`===`または`!==`を使うことが、強く推奨されます。**

### 🤷 `else`: そうでなければ

`else`を使うと、`if`文の条件が、偽（`false`）だった場合に、実行する処理を、記述することができます。

```php
$age = 15;

if ($age >= 18) {
    echo "あなたは、成人です。";
} else {
    echo "あなたは、未成年です。";
}
// 出力: あなたは、未成年です。
```

### 🧐 `elseif`: もし〜でなく、もし〜ならば

`elseif`を使うと、さらに、多くの条件で、処理を分岐させることができます。`if`から始まり、上から順に、条件が評価され、最初に、真（`true`）となったブロックの処理が実行され、残りのブロックは、無視されます。

```php
$score = 85;

if ($score >= 90) {
    echo "評価はAです。";
} elseif ($score >= 80) {
    echo "評価はBです。";
} elseif ($score >= 60) {
    echo "評価はCです。";
} else {
    echo "評価はDです（不合格）。";
}
// 出力: 評価はBです。
```

### 🔀 `switch`文: 値に応じた分岐

`switch`文は、一つの変数が、取りうる、特定の値に応じて、処理を分岐させたい場合に、便利な構文です。`if...elseif...else`の羅列を、より、すっきりと、記述することができます。

```php
$signal = "red";

switch ($signal) {
    case "red":
        echo "止まれ";
        break; // breakを忘れない！

    case "yellow":
        echo "注意";
        break;

    case "blue":
    case "green": // 複数のケースをまとめることも可能
        echo "進め";
        break;

    default: // どのケースにも当てはまらない場合
        echo "信号の色ではありません";
        break;
}
// 出力: 止まれ
```

*   `switch (変数)`: 比較したい変数を、`()`の中に指定します。
*   `case 値:`: 変数の値が、`値`と一致した場合に、実行する処理を記述します。
*   `break;`: 各`case`の処理の最後に、必ず`break;`を記述します。これを忘れると、次の`case`の処理が、続けて実行されてしまう（フォールスルー）ため、注意が必要です。
*   `default:`: どの`case`にも、当てはまらなかった場合に、実行される処理を記述します。`if`文の`else`に相当します。

---

## ✨ まとめ

このセクションでは、プログラムの流れを、条件に応じて、コントロールする、条件分岐について学びました。

*   **条件分岐**: 「もし、〇〇ならば、△△する」という、処理の分岐を実現する仕組み。
*   **`if`文**: 基本的な条件分岐。`()`内の条件式が`true`の場合に、処理を実行する。
*   **`else` / `elseif`**: `if`の条件が`false`だった場合の処理や、複数の条件分岐を、記述するために使う。
*   **`switch`文**: 一つの変数の値に応じて、多くの選択肢に、処理を分岐させたい場合に、`if`文より、すっきりと書ける。
*   **厳密な比較**: バグを防ぐため、比較には、`===`または`!==`を、常に使うように心がける。

条件分岐は、ユーザーの入力に応答したり、データの状態によって、処理を変えたりと、インタラクティブなアプリケーションを、構築するための、必須のツールです。次のセクションでは、もう一つの、重要な、制御構造である、「繰り返し処理」について、学んでいきます。

---

## 📝 学習のポイント

- [ ] `if`文を使って、簡単な条件分岐を、書くことができる。
- [ ] `else`と`elseif`を使って、複数の条件で、処理を分岐させることができる。
- [ ] `===`と`==`の違いを説明でき、`===`を優先して使うことができる。
- [ ] `switch`文を使って、変数の値に応じた、分岐処理を、書くことができる。
